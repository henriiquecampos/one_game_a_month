[gd_scene load_steps=7 format=2]

[ext_resource path="res://objects/basic_negative.tscn" type="PackedScene" id=1]
[ext_resource path="res://objects/cookie/cookie.gd" type="Script" id=2]
[ext_resource path="res://objects/cookie/sprite.png" type="Texture" id=3]

[sub_resource type="GDScript" id=1]

script/source = "extends Area2D

export (Vector2) var hurt_vector setget set_hurt_vector,get_hurt_vector

func set_hurt_vector(value):
	hurt_vector = value

func get_hurt_vector():
	return(hurt_vector)
	
func get_hurt():
	$\"../animator\".play(\"hurt\")
	$shape.set_disabled(true)
	get_parent().speed *= -0.5
	yield($\"../animator\", \"animation_finished\")
	get_parent().set_physics_process(false)
	get_parent().queue_free()"

[sub_resource type="RectangleShape2D" id=2]

custom_solver_bias = 0.0
extents = Vector2( 48, 24 )

[sub_resource type="Animation" id=3]

resource_name = "hurt"
length = 1.0
loop = false
step = 0.1
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, -360.0 ]
}

[node name="cookie" instance=ExtResource( 1 )]

z_index = -1
script = ExtResource( 2 )
_sections_unfolded = [ "Z Index" ]

[node name="hurt_box" parent="." index="1"]

script = SubResource( 1 )
hurt_vector = Vector2( -1, 0 )

[node name="shape" parent="hurt_box" index="0"]

shape = SubResource( 2 )

[node name="sprite" parent="." index="2"]

position = Vector2( 0, 0.178082 )
scale = Vector2( 0.75, 0.75 )
texture = ExtResource( 3 )
_sections_unfolded = [ "Transform" ]

[node name="animator" type="AnimationPlayer" parent="." index="3"]

root_node = NodePath("..")
autoplay = ""
playback_process_mode = 1
playback_default_blend_time = 0.0
playback_speed = 1.0
anims/hurt = SubResource( 3 )
blend_times = [  ]


